# Ciclul de InstrucÈ›iuni - DiagramÄƒ de Flux

## Diagrama CompletÄƒ a ExecuÈ›iei

```
                        PROCESOR 8-BIT - CICLUL DE INSTRUCÈšIUNI
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                              START SISTEM                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        POWER-ON RESET                                               â”‚
    â”‚                                                                                      â”‚
    â”‚  â€¢ PC â† 0x0000                                                                       â”‚
    â”‚  â€¢ SP â† 0x01FF                                                                       â”‚
    â”‚  â€¢ A,B,C,D â† 0x00                                                                    â”‚
    â”‚  â€¢ FLAGS â† 0x0                                                                       â”‚
    â”‚  â€¢ Control signals â† default                                                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         FETCH CYCLE                                                 â”‚
    â”‚                                                                                      â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
    â”‚  â”‚   CYCLE 1   â”‚  â”‚   CYCLE 2   â”‚  â”‚   CYCLE 3   â”‚  â”‚ VALIDATION  â”‚                â”‚
    â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚                â”‚
    â”‚  â”‚ â€¢ Send PC   â”‚  â”‚ â€¢ Read ROM  â”‚  â”‚ â€¢ Latch     â”‚  â”‚ â€¢ Check     â”‚                â”‚
    â”‚  â”‚   to ADDR   â”‚  â”‚   at PC     â”‚  â”‚   instr to  â”‚  â”‚   for HALT  â”‚                â”‚
    â”‚  â”‚   bus       â”‚  â”‚   address   â”‚  â”‚   IR        â”‚  â”‚   or error  â”‚                â”‚
    â”‚  â”‚ â€¢ Assert    â”‚  â”‚ â€¢ Wait for  â”‚  â”‚ â€¢ PC â† PC+1 â”‚  â”‚ â€¢ Branch if â”‚                â”‚
    â”‚  â”‚   MEM_RE    â”‚  â”‚   data      â”‚  â”‚             â”‚  â”‚   needed    â”‚                â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
    â”‚         â”‚                â”‚                â”‚               â”‚                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                â”‚                â”‚               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        DECODE CYCLE                                                 â”‚
    â”‚                                                                                      â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
    â”‚  â”‚   CYCLE 1   â”‚  â”‚   CYCLE 2   â”‚  â”‚ MICROCODE   â”‚  â”‚  CONTROL    â”‚                â”‚
    â”‚  â”‚             â”‚  â”‚             â”‚  â”‚  LOOKUP     â”‚  â”‚  SIGNALS    â”‚                â”‚
    â”‚  â”‚ â€¢ Extract   â”‚  â”‚ â€¢ Identify  â”‚  â”‚             â”‚  â”‚             â”‚                â”‚
    â”‚  â”‚   OPCODE    â”‚  â”‚   operand   â”‚  â”‚ â€¢ Generate  â”‚  â”‚ â€¢ ALU_OP    â”‚                â”‚
    â”‚  â”‚   [7:4]     â”‚  â”‚   type      â”‚  â”‚   control   â”‚  â”‚ â€¢ REG_WE    â”‚                â”‚
    â”‚  â”‚ â€¢ Extract   â”‚  â”‚ â€¢ Prepare   â”‚  â”‚   word      â”‚  â”‚ â€¢ MEM_WE    â”‚                â”‚
    â”‚  â”‚   OPERAND   â”‚  â”‚   address   â”‚  â”‚ â€¢ Set up    â”‚  â”‚ â€¢ PC_WE     â”‚                â”‚
    â”‚  â”‚   [3:0]     â”‚  â”‚   calculation â”‚  â”‚   timing    â”‚  â”‚ â€¢ etc.      â”‚                â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      EXECUTE CYCLE                                                  â”‚
    â”‚                                                                                      â”‚
    â”‚                    â”Œâ”€â”€â”€ INSTRUCTION TYPE DECISION â”€â”€â”€â”                             â”‚
    â”‚                    â”‚                                 â”‚                             â”‚
    â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”         â”‚
    â”‚          â”‚ ARITHMETIC â”‚  â”‚  MEMORY  â”‚  â”‚ CONTROL  â”‚  â”‚ STACK â”‚  â”‚  I/O  â”‚         â”‚
    â”‚          â”‚    & ALU   â”‚  â”‚ ACCESS   â”‚  â”‚   FLOW   â”‚  â”‚  OPS  â”‚  â”‚  OPS  â”‚         â”‚
    â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”˜         â”‚
    â”‚                    â”‚            â”‚             â”‚         â”‚           â”‚             â”‚
    â”‚                    â–¼            â–¼             â–¼         â–¼           â–¼             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚            â”‚             â”‚         â”‚           â”‚
                         â–¼            â–¼             â–¼         â–¼           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        DETAILED EXECUTION PATHS                                    â”‚
    â”‚                                                                                    â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚ â”‚ ARITHMETIC/ALU  â”‚ â”‚  MEMORY ACCESS  â”‚ â”‚ CONTROL FLOW    â”‚ â”‚ STACK/I-O OPS   â”‚  â”‚
    â”‚ â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚  â”‚
    â”‚ â”‚ â€¢ Read A, B     â”‚ â”‚ â€¢ Calculate     â”‚ â”‚ â€¢ Check FLAGS   â”‚ â”‚ â€¢ SP operations â”‚  â”‚
    â”‚ â”‚   registers     â”‚ â”‚   address       â”‚ â”‚ â€¢ Condition     â”‚ â”‚ â€¢ PUSH: [SP]=A  â”‚  â”‚
    â”‚ â”‚ â€¢ Send to ALU   â”‚ â”‚ â€¢ Send addr     â”‚ â”‚   evaluation    â”‚ â”‚   SP=SP-1       â”‚  â”‚
    â”‚ â”‚ â€¢ ALU computes  â”‚ â”‚   to MEM        â”‚ â”‚ â€¢ Update PC if  â”‚ â”‚ â€¢ POP: SP=SP+1  â”‚  â”‚
    â”‚ â”‚ â€¢ Update FLAGS  â”‚ â”‚ â€¢ Assert        â”‚ â”‚   branch taken  â”‚ â”‚   A=[SP]        â”‚  â”‚
    â”‚ â”‚ â€¢ Store result  â”‚ â”‚   RD/WR         â”‚ â”‚ â€¢ JMP addr      â”‚ â”‚ â€¢ I/O port      â”‚  â”‚
    â”‚ â”‚   in A          â”‚ â”‚ â€¢ Transfer data â”‚ â”‚ â€¢ CALL: push    â”‚ â”‚   addressing    â”‚  â”‚
    â”‚ â”‚                 â”‚ â”‚                 â”‚ â”‚   PC, jmp addr  â”‚ â”‚                 â”‚  â”‚
    â”‚ â”‚ Examples:       â”‚ â”‚ Examples:       â”‚ â”‚ â€¢ RET: pop PC   â”‚ â”‚ Examples:       â”‚  â”‚
    â”‚ â”‚ ADD B, SUB B    â”‚ â”‚ LDA addr        â”‚ â”‚                 â”‚ â”‚ PUSH A, POP A   â”‚  â”‚
    â”‚ â”‚ AND B, OR B     â”‚ â”‚ STA addr        â”‚ â”‚ Examples:       â”‚ â”‚ IN port         â”‚  â”‚
    â”‚ â”‚ INC A, DEC A    â”‚ â”‚ LDB addr        â”‚ â”‚ JZ addr         â”‚ â”‚ OUT port        â”‚  â”‚
    â”‚ â”‚ SHL A, SHR A    â”‚ â”‚ STB addr        â”‚ â”‚ JMP addr        â”‚ â”‚                 â”‚  â”‚
    â”‚ â”‚ MUL B, DIV B    â”‚ â”‚                 â”‚ â”‚ CALL addr       â”‚ â”‚                 â”‚  â”‚
    â”‚ â”‚                 â”‚ â”‚                 â”‚ â”‚ RET             â”‚ â”‚                 â”‚  â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                                                                                    â”‚
    â”‚                             Timing pentru fiecare:                               â”‚
    â”‚                    â€¢ ALU: 1-3 cycles    â€¢ Memory: 1-2 cycles                     â”‚
    â”‚                    â€¢ Branch: 1-2 cycles â€¢ Stack: 2-3 cycles                      â”‚
    â”‚                    â€¢ I/O: 1-2 cycles                                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                           WRITEBACK & FLAGS UPDATE                                â”‚
    â”‚                                                                                    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚  â”‚   RESULT    â”‚  â”‚  FLAGS      â”‚  â”‚   MEMORY    â”‚  â”‚  REGISTER   â”‚              â”‚
    â”‚  â”‚ WRITEBACK   â”‚  â”‚  UPDATE     â”‚  â”‚   UPDATE    â”‚  â”‚   UPDATE    â”‚              â”‚
    â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚              â”‚
    â”‚  â”‚ â€¢ Store     â”‚  â”‚ â€¢ Z â† 1 if  â”‚  â”‚ â€¢ Write to  â”‚  â”‚ â€¢ Update    â”‚              â”‚
    â”‚  â”‚   ALU       â”‚  â”‚   result=0  â”‚  â”‚   RAM/ROM   â”‚  â”‚   PC, SP    â”‚              â”‚
    â”‚  â”‚   result    â”‚  â”‚ â€¢ C â† carry â”‚  â”‚   if needed â”‚  â”‚ â€¢ Update    â”‚              â”‚
    â”‚  â”‚ â€¢ Update    â”‚  â”‚   bit       â”‚  â”‚ â€¢ Update    â”‚  â”‚   target    â”‚              â”‚
    â”‚  â”‚   target    â”‚  â”‚ â€¢ N â† sign  â”‚  â”‚   I/O ports â”‚  â”‚   register  â”‚              â”‚
    â”‚  â”‚   register  â”‚  â”‚   bit [7]   â”‚  â”‚             â”‚  â”‚             â”‚              â”‚
    â”‚  â”‚             â”‚  â”‚ â€¢ V â† ovfl  â”‚  â”‚             â”‚  â”‚             â”‚              â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                              STATUS CHECK                                         â”‚
    â”‚                                                                                    â”‚
    â”‚                       â”Œâ”€â”€ HALT instruction? â”€â”€â”                                   â”‚
    â”‚                       â”‚                       â”‚                                   â”‚
    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€ YES               â”‚                                   â”‚
    â”‚              â”‚                                â”‚                                   â”‚
    â”‚              â–¼                                â”‚                                   â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚                                   â”‚
    â”‚  â”‚    HALT STATE      â”‚                      â”‚ NO                                â”‚
    â”‚  â”‚                    â”‚                      â”‚                                   â”‚
    â”‚  â”‚ â€¢ Stop clock       â”‚                      â”‚                                   â”‚
    â”‚  â”‚ â€¢ Assert HALT      â”‚                      â”‚                                   â”‚
    â”‚  â”‚ â€¢ Enter low-power  â”‚                      â”‚                                   â”‚
    â”‚  â”‚ â€¢ Wait for reset   â”‚                      â”‚                                   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚                                   â”‚
    â”‚                                               â”‚                                   â”‚
    â”‚                                               â–¼                                   â”‚
    â”‚                                    â”Œâ”€â”€ Exception/Error? â”€â”€â”                      â”‚
    â”‚                                    â”‚                      â”‚                      â”‚
    â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€ YES              â”‚                      â”‚
    â”‚                           â”‚                               â”‚                      â”‚
    â”‚                           â–¼                               â”‚ NO                   â”‚
    â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚                      â”‚
    â”‚               â”‚  EXCEPTION HANDLER â”‚                     â”‚                      â”‚
    â”‚               â”‚                    â”‚                     â”‚                      â”‚
    â”‚               â”‚ â€¢ Stack overflow?  â”‚                     â”‚                      â”‚
    â”‚               â”‚ â€¢ Invalid opcode?  â”‚                     â”‚                      â”‚
    â”‚               â”‚ â€¢ Memory fault?    â”‚                     â”‚                      â”‚
    â”‚               â”‚ â€¢ Division by 0?   â”‚                     â”‚                      â”‚
    â”‚               â”‚ â€¢ Set error flags  â”‚                     â”‚                      â”‚
    â”‚               â”‚ â€¢ Jump to handler  â”‚                     â”‚                      â”‚
    â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚                      â”‚
    â”‚                                                          â”‚                      â”‚
    â”‚                                                          â–¼                      â”‚
    â”‚                                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
    â”‚                                             â”‚   CONTINUE CYCLE    â”‚             â”‚
    â”‚                                             â”‚                     â”‚             â”‚
    â”‚                                             â”‚ â€¢ Next instruction  â”‚             â”‚
    â”‚                                             â”‚ â€¢ Back to FETCH     â”‚             â”‚
    â”‚                                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                             â”‚
                                                             â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚           LOOP BACK TO FETCH                â”‚
                              â”‚                                             â”‚
                              â”‚        (Continue execution)                 â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Timing Detaliat per InstrucÈ›iune

### 1. InstrucÈ›iuni Aritmetice (ADD, SUB, AND, OR, XOR)
```
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1     | Fetch      | PC â†’ Address Bus         | MEM_RE, PC_EN
2     | Fetch      | ROM[PC] â†’ IR             | IR_WE
3     | Decode     | IR â†’ Control Unit        | -
4     | Execute    | A,B â†’ ALU                | ALU_EN
5     | Execute    | ALU â†’ Result             | ALU_OP[3:0]
6     | Writeback  | Result â†’ A, Flags        | REG_WE, FLAGS_WE

Total: 6 cycles
```

### 2. InstrucÈ›iuni de Memorie (LDA addr, STA addr)
```
Load Instruction (LDA addr):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Same as above            | MEM_RE, PC_EN, IR_WE
4     | Decode     | Extract address          | -
5     | Execute    | addr â†’ Address Bus       | MEM_RE
6     | Execute    | RAM[addr] â†’ Data Bus     | -
7     | Writeback  | Data Bus â†’ A             | REG_WE

Store Instruction (STA addr):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Same as above            | MEM_RE, PC_EN, IR_WE
4     | Decode     | Extract address          | -
5     | Execute    | addr â†’ Address Bus       | MEM_WE
6     | Execute    | A â†’ Data Bus             | REG_OE
7     | Writeback  | Data Bus â†’ RAM[addr]     | -

Total: 7 cycles each
```

### 3. InstrucÈ›iuni de Control (JMP, JZ, CALL, RET)
```
Jump Conditional (JZ addr):
Cycle | Phase      | Action                    | Condition
------|------------|---------------------------|------------------
1-3   | Fetch      | Normal fetch             | -
4     | Decode     | Extract address          | -
5     | Execute    | Check Z flag             | if Z==1:
6     | Execute    | addr â†’ PC (if taken)     |   PC_WE = 1
      |            | or PC+1 (if not taken)   | else: continue

Unconditional Jump (JMP addr):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Normal fetch             | -
4     | Decode     | Extract address          | -
5     | Execute    | addr â†’ PC                | PC_WE

Call Subroutine (CALL addr):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Normal fetch             | -
4     | Decode     | Extract address          | -
5     | Execute    | PC â†’ Stack[SP]           | MEM_WE, SP_EN
6     | Execute    | SP--                     | SP_DEC
7     | Execute    | addr â†’ PC                | PC_WE

Return (RET):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Normal fetch             | -
4     | Decode     | No operand              | -
5     | Execute    | SP++                     | SP_INC
6     | Execute    | Stack[SP] â†’ PC           | MEM_RE, PC_WE

Total: JMP=5, JZ=5-6, CALL=7, RET=6 cycles
```

### 4. InstrucÈ›iuni Stack (PUSH, POP)
```
Push (PUSH A):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Normal fetch             | -
4     | Decode     | No additional operand    | -
5     | Execute    | A â†’ Stack[SP]            | MEM_WE, REG_OE
6     | Execute    | SP--                     | SP_DEC

Pop (POP A):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Normal fetch             | -
4     | Decode     | No additional operand    | -
5     | Execute    | SP++                     | SP_INC
6     | Execute    | Stack[SP] â†’ A            | MEM_RE, REG_WE

Total: 6 cycles each
```

### 5. InstrucÈ›iuni I/O (IN port, OUT port)
```
Input (IN port):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Normal fetch             | -
4     | Decode     | Extract port number      | -
5     | Execute    | port â†’ Address Bus       | IO_RE
6     | Execute    | Input[port] â†’ A          | REG_WE

Output (OUT port):
Cycle | Phase      | Action                    | Signals Active
------|------------|---------------------------|------------------
1-3   | Fetch      | Normal fetch             | -
4     | Decode     | Extract port number      | -
5     | Execute    | port â†’ Address Bus       | IO_WE
6     | Execute    | A â†’ Output[port]         | REG_OE

Total: 6 cycles each
```

## Performance Summary

```
Instruction Category    | Average Cycles | Frequency in typical code | Impact
------------------------|----------------|---------------------------|--------
Simple ALU             | 6              | 40%                      | High
Memory Operations      | 7              | 30%                      | High  
Control Flow           | 5-7            | 15%                      | Medium
Stack Operations       | 6              | 10%                      | Low
I/O Operations         | 6              | 5%                       | Low

Average CPI (Cycles Per Instruction): ~6.2 cycles
At 8 MHz clock: ~1.29 MIPS (Million Instructions Per Second)
Execution time per instruction: ~775 nanoseconds average
```

AceastÄƒ diagramÄƒ de flux aratÄƒ Ã®n detaliu cum funcÈ›ioneazÄƒ procesorul tÄƒu 8-bit È™i este perfectÄƒ pentru:

1. **ÃnÈ›elegerea arhitecturii** de cÄƒtre toatÄƒ echipa
2. **Implementarea control unit-ului** Ã®n Verilog/VHDL  
3. **Optimizarea performance-ului** prin reducerea ciclurilor
4. **Debugging** when things don't work as expected
5. **DocumentaÈ›ia tehnicÄƒ** pentru prezentarea finalÄƒ

Acum ai toate informaÈ›iile necesare pentru a Ã®ncepe proiectul! ğŸš€